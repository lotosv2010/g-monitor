{"version":3,"file":"monitor.umd.js","sources":["../../../sdk/src/perf.js","../../../sdk/src/util.js","../../../sdk/src/resources.js","../../../sdk/src/xhr.js","../../../sdk/src/error-catch.js","../../../sdk/src/index.js"],"sourcesContent":["// https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming\n\nlet perf = {\n  init: (cb) => {\n    let cycleFreq = 100; // 循环轮询的时间\n    let isDOMReady = false;\n    let isOnload = false;\n    let performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance;\n\n    let Util = {\n      addEventListener: function (name, callback, useCapture) {\n        if (window.addEventListener) {\n          return window.addEventListener(name, callback, useCapture);\n        } else if (window.attachEvent) {\n          return window.attachEvent('on' + name, callback);\n        }\n      },\n      // DOM解析完成\n      domready: function (callback) {\n        if ( isDOMReady === true ) { return void 0; }\n        let timer = null;\n\n        if ( document.readyState === 'interactive' ) {\n          runCheck();\n        } else if (document.addEventListener) {\n          // 开始循环检测是否 DOMContentLoaded\n          document.addEventListener('DOMContentLoaded', function () {\n            runCheck();\n          }, false);\n        } else if (document.attachEvent) {\n          document.attachEvent('onreadystatechange', function () {\n            runCheck();\n          });\n        }\n\n        function runCheck() {\n          if ( performance.timing.domInteractive ) { // 停止循环检测，运行callback\n            clearTimeout(timer);\n            callback();\n            isDOMReady = true;\n          } else { // 再次循环检测\n            timer = setTimeout(runCheck, cycleFreq);\n          }\n        }\n      },\n      // 页面加载完成\n      onload: function (callback) {\n        if ( isOnload === true ) { return void 0; }\n        let timer = null;\n\n        if (document.readyState === 'complete') {\n          runCheck();\n        } else {\n          Util.addEventListener('load', function () {\n            runCheck();\n          }, false);\n        }\n\n        function runCheck() {\n          if ( performance.timing.loadEventEnd ) {\n            clearTimeout(timer);\n            callback();\n            isOnload = true;\n          } else {\n            timer = setTimeout(runCheck, cycleFreq);\n          }\n        }\n      }\n    };\n\n    let reportPerf = function () {\n      if (!performance) {\n        return void 0;\n      }\n\n      // 过滤无效数据；\n      function filterTime(a, b) {\n        return (a > 0 && b > 0 && (a - b) >= 0) ? (a - b) : undefined;\n      }\n\n      // append data from window.performance\n      let timing = performance.timing;\n      // let timing = performance.getEntriesByType('navigation')[0];\n\n      let perfData = {\n        // 网络建连\n        pervPage: filterTime(timing.fetchStart, timing.navigationStart), // 上一个页面\n        redirect: filterTime(timing.responseEnd, timing.redirectStart), // 页面重定向时间\n        dns: filterTime(timing.domainLookupEnd, timing.domainLookupStart), // DNS查找时间\n        connect: filterTime(timing.connectEnd, timing.connectStart), // TCP建连时间\n        network: filterTime(timing.connectEnd, timing.navigationStart), // 网络总耗时\n\n        // 网络接收\n        send: filterTime(timing.responseStart, timing.requestStart), // 前端从发送到接收到后端第一个返回\n        receive: filterTime(timing.responseEnd, timing.responseStart), // 接受页面时间\n        request: filterTime(timing.responseEnd, timing.requestStart), // 请求页面总时间\n\n        // 前端渲染\n        dom: filterTime(timing.domComplete, timing.domLoading), // dom解析时间\n        loadEvent: filterTime(timing.loadEventEnd, timing.loadEventStart), // loadEvent时间\n        frontend: filterTime(timing.loadEventEnd, timing.domLoading), // 前端总时间\n\n        // 关键阶段\n        load: filterTime(timing.loadEventEnd, timing.navigationStart), // 页面完全加载总时间\n        domReady: filterTime(timing.domContentLoadedEventStart, timing.navigationStart), // domready时间\n        interactive: filterTime(timing.domInteractive, timing.navigationStart), // 可操作时间\n        ttfb: filterTime(timing.responseStart, timing.navigationStart),  // 首字节时间\n      };\n\n      return perfData;\n    };\n\n    Util.domready(function () {\n      let perfData = reportPerf('domready');\n      perfData.type = 'domready';\n      cb(perfData);\n    });\n\n    Util.onload(function () {\n      let perfData = reportPerf('onload');\n      perfData.type = 'onload';\n      cb(perfData);\n    });\n  }\n};\n\nexport default perf;\n","export let noop = () => {};\nexport let onload = (cb) => {\n  if (document.readyState === 'complete') {\n    cb();\n    return;\n  }\n  window.addEventListener('load', cb);\n};\n\nexport default {\n  noop,\n  onload\n};\n","import {onload} from './util.js';\n\n// 过滤无效数据\nfunction filterTime(a, b) {\n  return (a > 0 && b > 0 && (a - b) >= 0) ? (a - b) : undefined;\n}\n\nlet resolvePerformanceTiming = (timing) => {\n  let o = {\n    initiatorType: timing.initiatorType,\n    name: timing.name,\n    // 连接过程\n    duration: parseInt(timing.duration),\n    redirect: filterTime(timing.redirectEnd, timing.redirectStart), // 重定向\n    dns: filterTime(timing.domainLookupEnd, timing.domainLookupStart), // DNS解析\n    connect: filterTime(timing.connectEnd, timing.connectStart), // TCP建连\n    network: filterTime(timing.connectEnd, timing.startTime), // 网络总耗时\n    // 接受过程\n    send: filterTime(timing.responseStart, timing.requestStart), // 发送开始到接受第一个返回\n    receive: filterTime(timing.responseEnd, timing.responseStart), // 接收总时间\n    request: filterTime(timing.responseEnd, timing.requestStart), // 总时间\n\n    // 核心指标\n    ttfb: filterTime(timing.responseStart, timing.requestStart), // 首字节时间\n  };\n\n  return o;\n};\n\nlet resolveEntries = (entries) => entries.map(item => resolvePerformanceTiming(item));\n\nlet resources = {\n  init: (cb) => {\n    let performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance;\n    if (!performance || !performance.getEntries) {\n      return void 0;\n    }\n\n    if (window.PerformanceObserver) {\n      // 动态获得每一个资源信息\n      let observer = new window.PerformanceObserver((list) => {\n        try {\n          let entries = list.getEntries();\n          cb(resolveEntries(entries));\n        } catch (e) {\n          console.error(e);\n        }\n      });\n      observer.observe({\n        entryTypes: ['resource']\n      })\n    } else {\n      // 在onload之后获取所有的资源新\n      onload(() => {\n        let entries = performance.getEntriesByType('resource');\n        cb(resolveEntries(entries));\n      });\n    }\n  },\n};\n\nexport default resources;\n","let xhrHook = {\n  init: (cb) => {\n    // xhr hook\n    let xhr = window.XMLHttpRequest;\n    if (xhr._xhr_flag === true) {\n      return void 0;\n    }\n    xhr._xhr_flag = true;\n\n    let _originOpen = xhr.prototype.open;\n    xhr.prototype.open = function (method, url, async, user, password) {\n      // TODO eagle url check\n      this._xhr_info = {\n        url: url,\n        method: method,\n        status: null\n      };\n      return _originOpen.apply(this, arguments);\n    };\n\n    let _originSend = xhr.prototype.send;\n    xhr.prototype.send = function (value) {\n      let _self = this;\n      this._start_time = Date.now();\n\n      let ajaxEnd = (event) => () => {\n        if (_self.response) {\n          let responseSize = null;\n          switch(_self.responseType) {\n            case 'json':\n              responseSize = JSON && JSON.stringify(_this.response).length;\n              break;\n            case 'blob':\n            case 'moz-blob':\n              responseSize = _self.response.size;\n              break;\n            case 'arraybuffer':\n              responseSize = _self.response.byteLength;\n            case 'document':\n              responseSize = _self.response.documentElement && _self.response.documentElement.innerHTML && (_self.response.documentElement.innerHTML.length + 28);\n              break;\n            default:\n              responseSize = _self.response.length;\n          }\n          _self._xhr_info.event = event;\n          _self._xhr_info.status = _self.status;\n          _self._xhr_info.success = (_self.status >= 200 && _self.status <= 206) || _self.status === 304;\n          _self._xhr_info.duration = Date.now() - _self._start_time;\n          _self._xhr_info.responseSize = responseSize;\n          _self._xhr_info.requestSize = value ? value.length : 0;\n          _self._xhr_info.type = 'xhr';\n          cb(this._xhr_info);\n        }\n      };\n\n      // TODO eagle url check\n      if (this.addEventListener) {\n        // 这三种状态都代表请求已经结束了，需要统计一些信息，并上报上去\n        this.addEventListener('load', ajaxEnd('load'), false);\n        this.addEventListener('error', ajaxEnd('error'), false);\n        this.addEventListener('abort', ajaxEnd('abort'), false);\n      } else {\n        let _origin_onreadystatechange = this.onreadystatechange;\n        this.onreadystatechange = function (event) {\n          if (_origin_onreadystatechange) {\n            _originOpen.apply(this, arguments);\n          }\n          if (this.readyState === 4) {\n            ajaxEnd('end')();\n          }\n        };\n      }\n      return _originSend.apply(this, arguments);\n    };\n\n    // fetch hook\n    if (window.fetch) {\n      let _origin_fetch = window.fetch;\n      window.fetch = function () {\n        let startTime = Date.now();\n        let args = [].slice.call(arguments);\n\n        let fetchInput = args[0];\n        let method = 'GET';\n        let url;\n\n        if (typeof fetchInput === 'string') {\n          url = fetchInput;\n        } else if ('Request' in window && fetchInput instanceof window.Request) {\n          url = fetchInput.url;\n          if (fetchInput.method) {\n            method = fetchInput.method;\n          }\n        } else {\n          url = '' + fetchInput;\n        }\n\n        if (args[1] && args[1].method) {\n          method = args[1].method;\n        }\n\n        // TODO eagle check\n        let fetchData = {\n          method: method,\n          url: url,\n          status: null,\n        };\n\n        return _origin_fetch.apply(this, args).then(function(response) {\n          fetchData.status = response.status;\n          fetchData.type = 'fetch';\n          fetchData.duration = Date.now() - startTime;\n          cb(fetchData);\n          return response;\n        });\n      }\n    }\n  }\n};\n\nexport default xhrHook;\n","let formatError = (errObj) => {\n  let col = errObj.column || errObj.columnNumber; // Safari Firefox\n  let row = errObj.line || errObj.lineNumber; // Safari Firefox\n  let message = errObj.message;\n  let name = errObj.name;\n\n  let {stack} = errObj;\n  if (stack) {\n    let matchUrl = stack.match(/https?:\\/\\/[^\\n]+/);\n    // urlFirstStack 包含报错的url和位置\n    let urlFirstStack = matchUrl ? matchUrl[0] : '';\n\n    // 获取真正的URL\n    let resourceUrl = '';\n    let regUrlCheck = /https?:\\/\\/(\\S)*\\.js/;\n    if (regUrlCheck.test(urlFirstStack)) {\n      resourceUrl = urlFirstStack.match(regUrlCheck)[0];\n    }\n\n    // 获取真正的行列信息\n    let stackCol = null;\n    let stackRow = null;\n    let posStack = urlFirstStack.match(/:(\\d+):(\\d+)/);\n    if (posStack && posStack.length >= 3) {\n      [, stackCol, stackRow] = posStack;\n    }\n\n    // TODO formatStack\n    return {\n      content: stack,\n      col: Number(col || stackCol),\n      row: Number(row || stackRow),\n      message, name, resourceUrl\n    };\n  }\n\n  return {\n    row, col, message, name\n  }\n};\n\nlet errorCatch = {\n  init: (cb) => {\n    let _originOnerror = window.onerror;\n    window.onerror = (...arg) => {\n      let [errorMessage, scriptURI, lineNumber, columnNumber, errorObj] = arg;\n      // console.log(arg, 'cuowu');\n      let errorInfo = formatError(errorObj);\n      errorInfo._errorMessage = errorMessage;\n      errorInfo._scriptURI = scriptURI;\n      errorInfo._lineNumber = lineNumber;\n      errorInfo._columnNumber = columnNumber;\n      errorInfo.type = 'onerror';\n      cb(errorInfo);\n      _originOnerror && _originOnerror.apply(window, arg);\n    };\n    let _originOnunhandledrejection = window.onunhandledrejection;\n    window.onunhandledrejection = (...arg) => {\n      let e = arg[0];\n      let reason = e.reason;\n      cb({\n        type: e.type || 'unhandledrejection',\n        reason\n      });\n      _originOnunhandledrejection && _originOnunhandledrejection.apply(window, arg);\n    };\n  },\n};\n\nexport default errorCatch;","import perf from './perf';\nimport resources from './resources';\nimport xhr from './xhr';\nimport errorCatch from './error-catch';\n\n// 性能监控\nperf.init((perfData) => {\n  console.log('perfData', perfData)\n});\n\n// 资源监控\nresources.init((resourcesData) => {\n  console.log('resourcesData', resourcesData)\n});\n\n// 接口性能监控\nxhr.init((xhrData) => {\n  console.log('xhrData', xhrData)\n});\n\n// 错误监控\nerrorCatch.init((errorData) => {\n  console.log('errorData', errorData)\n});"],"names":["xhr"],"mappings":"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"}